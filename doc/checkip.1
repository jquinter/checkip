.\" Text automatically generated by txt2man
.TH checkip 1 "27 April 2013" "" ""
.SH NAME
\fBCheckip \fP- Simple script to monitor your external IP and report a change to a user-defined email address. Useful if you manage remote boxes whose external IP addresses change periodically.
\fB
.SH SYNOPSIS
.nf
.fam C
\fBcheckip\fP [\fIoption\fP]

.fam T
.fi
.fam T
.fi
.SH OPTIONS
.TP
.B
t
Test smtp server then exit.
.TP
.B
m
Send a test email then exit.
.TP
.B
c
Check IP against IP on record and send notification mail if different.
.SH CONFIG FILE
Checkip will create $HOME/.config/checkip.conf the first time it is invoked. Users must define the variables therein prior to invoking the script a 2nd time. The file is well commented and self-explanatory.
.SH RECOMMENDED USAGE
.SS TESTING THE SETUP
One the config file is properly setup, try running the script in test mode will will verify that it is able to reach and authenticate with the smtp server:
.PP
.nf
.fam C
        $ checkip t

.fam T
.fi
Users may optionally send a test email to the target address:
.PP
.nf
.fam C
        $ checkip m

.fam T
.fi
.SS RUNNING THE CHECK
When happy that the setup is correct, users can invoke the script to check the IP against the last-known IP:
.PP
.nf
.fam C
 $ checkip c

.fam T
.fi
Invoking the script via a crontab is the recommended. Below is an example invoking the script once, every 4 hours:
.PP
.nf
.fam C
        $ crontab -e
        0 */4 * * * /usr/bin/checkip c &> /dev/null

.fam T
.fi
.SH NOTICE FOR USERS OF PEERGUARDIAN LNIUX
Users running PeerGaurdian Linux will need to edit /etc/pgl/pglcmd.conf and allow either 'ssl' or 'starttls' to the WHITE_TCP_OUT section.
.SH CONTRIBUTE
Should you wish to contribute to this code, please fork and send a pull request. Source is freely available on github: https://github.com/graysky2/\fBcheckip\fP
.SH BUGS
None known.
.SH TODO
Add support for neither SSL or SMARTTLS servers. I do not have access to one at the moment.
.SH AUTHOR
graysky (graysky AT archlinux DOT us)
